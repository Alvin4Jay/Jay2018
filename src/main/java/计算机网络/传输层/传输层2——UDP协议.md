#无连接运输——UDP协议

## 一、UDP概述

###1. 特点

- 只提供多路复用、分解功能及少量的差错检测

- “尽力而为”服务，UDP报文段可能：
  - 丢包
  - 对应用程序交付失序
- 无连接
  - 在UDP发送方和接收方之间无握手
  - 每个UDP段的处理独立于其他段

###2.使用UDP的原因

- 关于何时、发送什么数据的应用层控制更为精细；无拥塞控制: UDP能够尽可能快地传输；
- 无连接创建(减少时延)；
- 无连接状态；
- 分组首部开销小。

###3. 使用场景

- 流式多媒体
- **DNS**
- SNMP

**经UDP的可靠传输 : 在应用层增加可靠性，实现特定的差错恢复！**

##二、报文格式

![](http://onh97xzo0.bkt.clouddn.com/3-4.PNG)

### 1. UDP报文段的结构

> - 应用层数据占用UDP报文段的数据字段；
> - UDP首部4个字段，每个字段由两个字节组成；
>   - 源端口号、目的端口号
>   - 长度：报文段中首部和数据的字节数
>   - 检验和：接收方使用检验和字段，检查报文段是否出现了差错

### 2. UDP检验和

UDP检验和提供了差错检测功能，但对差错恢复无能为力。

> 头部+应用数据+伪头部 ---> checksum检验和