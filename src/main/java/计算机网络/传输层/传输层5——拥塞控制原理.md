# 拥塞控制原理

​	分组丢失(丢包)一般是当网络变得拥塞时由于路由器缓存溢出引起的。分组重传作为网络拥塞的征兆来对待，却无法处理导致网络拥塞的原因。因此以下介绍拥塞控制的原理，通过一些机制使在面临网络拥塞时抑制发送方。

## 一、拥塞的原因与代价

1. 当分组的到达速率接近链路容量时，分组经历巨大的排队时延。
2. 发送方必须执行重传以补偿因为缓存溢出而丢弃(丢失)的分组。
3. 发送方在遇到大时延时所进行的不必要重传会引起路由器利用其链路带宽来转发不必要的分组副本。
4. 当一个分组沿一条路径被丢弃时，每个上游路由器用于转发该分组到丢弃该分组而使用的传输容量最终被浪费掉了。

## 二、拥塞控制方法

​	根据**网络层是否为运输层拥塞控制提供了显式帮助**，可分为以下两种拥塞控制方法：

- **端到端拥塞控制**。在端到端拥塞控制方法中，网络层没有为运输层拥塞控制提供显式支持。即使在网络中存在拥塞，端系统必须通过对网络行为的观察(如分组丢失和重传)来推断之。TCP必须通过端到端的方式解决拥塞控制，因为IP层不会向端系统提供网络拥塞的反馈信息。TCP报文段的丢失被认为是网络拥塞的迹象。

- **网络辅助的拥塞控制**。在这种拥塞控制中，网络层构件(路由器)向发送方提供关于网络中拥塞状态的显式反馈信息。

  对于网络辅助的拥塞控制，拥塞信息从网络反馈到发送方有两种形式：

  - 直接反馈信息由路由器发给发送方；
  - 路由器标记或者更新从发送方到接收方的分组中的某个字段来指示拥塞的产生。一旦收到一个标记的分组，接收方就会向发送方通知该网络拥塞的指示。